(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{346:function(t,s,a){t.exports=a.p+"assets/img/1.54095b1b.png"},347:function(t,s,a){t.exports=a.p+"assets/img/2.be9a34b1.gif"},348:function(t,s,a){t.exports=a.p+"assets/img/3.f9177a96.png"},349:function(t,s){t.exports="data:image/png;base64,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"},497:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"背景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),n("p",[t._v("随着公司业务的发展，经常会收到一些数据大屏的需求。目前做了有两种实现方案，一是人肉搭建，二是用阿里云 DataV 搭建。")]),t._v(" "),n("p",[t._v("人肉搭建，在本地脚手架开发环境中进行编码，有大量的重复劳动，能力复用性差，占用前端宝贵的开发时间。")]),t._v(" "),n("p",[t._v("DataV 功能强大，但需要付费使用，且好用的组件还要额外收费，不支持本地化部署，还需要维护两套数仓。")]),t._v(" "),n("h2",{attrs:{id:"自己做一套系统的优势"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#自己做一套系统的优势"}},[t._v("#")]),t._v(" 自己做一套系统的优势")]),t._v(" "),n("ul",[n("li",[t._v("可定制性：内部产品，组件和展示形式私人订制")]),t._v(" "),n("li",[t._v("支持本地化部署：业务需要决定部分业务只能在内网访问，无法访问外网（包括阿里云）")]),t._v(" "),n("li",[t._v("解决 DataV 需要维护两套数仓的问题")]),t._v(" "),n("li",[t._v("节约公司成本，增强公司数据产品能力，助力营收")])]),t._v(" "),n("h2",{attrs:{id:"总览"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总览"}},[t._v("#")]),t._v(" 总览")]),t._v(" "),n("p",[t._v("数据大屏是用可视化的方式展示庞杂数据的产品，经常会用在会议展览、业务监控、风险预警、地理信息分析等多种业务场景。下图是阿里云 DataV 的一个模板：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(346),alt:"img"}})]),t._v(" "),n("p",[n("strong",[t._v("从前端实现来看，大屏是由线图、柱状图、饼图、标题、背景、边框等基本元素组成。实现思路是以这些基本元素为组件，通过选择组件、拖拽方式布局，配置样式、数据来源，将这些数据保存在数据库中。展示页面获取依赖的组件、样式和数据信息，呈现给用户。")])]),t._v(" "),n("p",[t._v("大屏按场景划分，可分为编辑和查看。")]),t._v(" "),n("p",[t._v("编辑：指的是大屏制作者制作大屏。")]),t._v(" "),n("p",[t._v("查看：包含两种情况，大屏制作者预览和实际用户查看大屏。")]),t._v(" "),n("h2",{attrs:{id:"编辑"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编辑"}},[t._v("#")]),t._v(" 编辑")]),t._v(" "),n("p",[n("img",{attrs:{src:a(347),alt:"img"}})]),t._v(" "),n("p",[t._v("编辑大屏是数据可视化系统核心，页面布局参考 DataV：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(348),alt:"img"}})]),t._v(" "),n("p",[t._v("拆解为 4 个部分：顶部、组件区、画布、数据配置区。先讲下设计思路，再依次分解各区。")]),t._v(" "),n("h4",{attrs:{id:"设计思路"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设计思路"}},[t._v("#")]),t._v(" 设计思路")]),t._v(" "),n("ul",[n("li",[t._v("页面数据和依赖的组件由 SSR (https://juejin.im/post/5b063962f265da0ddb63dac3) 注入到 HTML 文件中")]),t._v(" "),n("li",[t._v("App 数据保存在 App state 中，未使用 Vuex（后续会考虑使用 Vuex）")]),t._v(" "),n("li",[t._v("数据用 props 传递给子组件")]),t._v(" "),n("li",[t._v("数据从子组件采用事件中心传递给祖父级组件")])]),t._v(" "),n("h4",{attrs:{id:"顶部"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#顶部"}},[t._v("#")]),t._v(" 顶部")]),t._v(" "),n("p",[t._v("顶部区域包含三部分：左侧开关区、控制图层、组件列表、数据配置区的显示隐藏；中间是大屏的标题；右侧是保存和预览。")]),t._v(" "),n("h4",{attrs:{id:"组件区"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件区"}},[t._v("#")]),t._v(" 组件区")]),t._v(" "),n("p",[t._v("组件区分为左侧图层（已添加的组件）和右侧组件列表，具备添加组件、选择操作图层、分组对齐的功能。")]),t._v(" "),n("p",[n("strong",[t._v("图层")])]),t._v(" "),n("ul",[n("li",[t._v("图层支持上移、下移、置顶、删除的操作，支持右键显示操作菜单（暂不支持多选和分组）。实现原理是使用数组的基本方法改变数组")]),t._v(" "),n("li",[t._v("单击组件选择该组件，画布区选中组件，数据配置区显示配置项")])]),t._v(" "),n("p",[n("strong",[t._v("组件列表")])]),t._v(" "),n("ul",[n("li",[t._v("所有组件展示所有大屏组件，点击或拖动添加组件")]),t._v(" "),n("li",[t._v("添加组件采用异步获取组件的 JS、CSS 、配置 Schema，将 CSS、JS 插入 DOM 中，配置传入属性配置区")]),t._v(" "),n("li",[t._v("支持按组件类型分组，便于用户使用。")])]),t._v(" "),n("h4",{attrs:{id:"画布"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#画布"}},[t._v("#")]),t._v(" 画布")]),t._v(" "),n("p",[t._v("画布用于实时展示大屏组件的位置、尺寸、属性和数据修改后的效果。")]),t._v(" "),n("p",[t._v("位置和尺寸改变通过注册组件 "),n("code",[t._v("vue-draggable-resizable")]),t._v(" 的 "),n("code",[t._v("drag")]),t._v(" 和 "),n("code",[t._v("resize")]),t._v(" 方法，改变对应组件的属性。组件采用绝对定位，拖动时修改 top 和 left 的值。")]),t._v(" "),n("p",[t._v("属性改变通过修改对应组件的 props.models 的值修改。")]),t._v(" "),n("p",[t._v("数据分为静态数据和接口数据。启用静态数据时，数据从用户填写的数据获取。否则组件 watch 接口 id ，每次改变时重新发送请求获取数据。")]),t._v(" "),n("p",[t._v("画布上边和左边是标尺，画布缩放时标尺要跟随变动。在标尺上移动时显示一条移动的参考线。点击时增加一条参考线。双击参考线删除。标尺用 Canvas 画出，旋转 90 度可获得 Y 轴。")]),t._v(" "),n("p",[t._v("右下是缩放滑块，方便用户缩放查看。进入页面默认缩放到可查看全屏大小。缩放实现使用 CSS3 的"),n("code",[t._v("transform: scale(${this.scale})")]),t._v("。")]),t._v(" "),n("p",[t._v("画布上未选择组件时，显示页面的基本配置，包括大屏的宽高、背景图。")]),t._v(" "),n("p",[t._v("选择组件后，高亮显示当前组件，标识位置，右侧数据配置区显示组件 Schema 定义的配置项。")]),t._v(" "),n("p",[n("strong",[t._v("核心代码")])]),t._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item in preCompList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("[\n    'data-com',\n    item.info.previewId === activePreviewId ? 'data-com-active' : ''\n  ]"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":key")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.info.activePreviewId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("vue-draggable-resizable")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":w")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.models.width || 100"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":h")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.models.height || 100"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":x")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.models.x || 0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":y")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.models.y || 0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":active")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.info.previewId === activePreviewId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@dragging")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("onDrag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@resizing")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("onResize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@activated")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("\n      () => {\n        onCompActivated(item.info.previewId);\n      }"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":prevent-deactivation")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("navigator-line")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":x")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.models.x"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":y")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.models.y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":scale")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("scale"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" \n      "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":is")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.info.name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n      "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":models")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n      "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":extraProps")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("extraProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("vue-draggable-resizable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br")])]),n("p",[t._v("vue-draggable-resizable (https://npm.taobao.org/package/vue-draggable-resizable) 用于选择组件、缩放组件大小，可参考官方文档。这个组件不支持分组和多选对齐场景，需要定制开发。")]),t._v(" "),n("p",[n("code",[t._v("navigator-line")]),t._v(" 显示组件当前的标尺位置。这里要注意避免因为画布缩小导致坐标看不清，除以缩放比例即可。")]),t._v(" "),n("p",[t._v("使用 Vue 动态组件 is (https://cn.vuejs.org/v2/api/#is) 控制组件显示。")]),t._v(" "),n("h4",{attrs:{id:"数据配置区"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据配置区"}},[t._v("#")]),t._v(" 数据配置区")]),t._v(" "),n("p",[t._v("数据配置区有 2 种情况：")]),t._v(" "),n("ul",[n("li",[t._v("未选中组件展示页面级配置：大屏宽高、背景色、背景图等")]),t._v(" "),n("li",[t._v("选中组件：展示组件配置信息")])]),t._v(" "),n("p",[t._v("实现逻辑：根据当前用户的选择来动态渲染出组件的属性编辑域，并回填属性的初始值，从而达到良好的编辑交互效果。用户拖拽组件时同步更新编辑域中的属性值，在属性编辑域修改属性时通知大屏触发组件的刷新动作，达到实时编辑的效果。")]),t._v(" "),n("p",[t._v("数据配置区界面由组件 Schema 定义，props 定义展示，models 表示默认数据，详细介绍见下面 Schema。")]),t._v(" "),n("p",[t._v("编辑类型由 fileds 里的 type 决定，实现 Input、Select、Image、Border 等各种类型组件，再利用 Vue 的动态组件 is 属性来展示。")]),t._v(" "),n("p",[t._v("数据回传：每个子组件值的修改会通知父组件 "),n("code",[t._v("<Setting />")]),t._v(" 更新回传给父组件 App，这里采用全量回传，避免 App 对 models 查找更新数据。")]),t._v(" "),n("h2",{attrs:{id:"查看"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看"}},[t._v("#")]),t._v(" 查看")]),t._v(" "),n("p",[t._v("查看是将数据库里保存的数据，配合组件渲染出来。实现原理是通过页面 id 获取组件、数据渲染。代码如下：")]),t._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("preview"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("layout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("[\n        'preview-line',\n        preComp.info.name + '-' + preComp.info.previewId\n      ]"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("(preComp, index) in preCompList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":key")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("preComp.info.previewId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("formatCompStyle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("preComp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" \n       "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":is")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("preComp.info.name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n       "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":models")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("preComp.models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n       "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":isPreview")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("isPreview"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n       "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":extraProps")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("extraProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br")])]),n("h4",{attrs:{id:""}},[n("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])]),t._v(" "),n("h4",{attrs:{id:"-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[t._v("#")])]),t._v(" "),n("h4",{attrs:{id:"全屏展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#全屏展示"}},[t._v("#")]),t._v(" 全屏展示")]),t._v(" "),n("p",[t._v("需要注意大屏是全屏展示，根据大屏配置的屏幕宽高、背景图、背景色设置 body 样式，设置 "),n("code",[t._v('<meta name="viewport" content="width=\' + window.screen.width + \'"/>')]),t._v(" viewport 的 width 让屏幕占满全屏，再监听屏幕的变化设置压缩比例。自适应关键代码如下：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取设置的大屏宽高、背景图、背景色")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__INITIAL_STATE__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" width"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" backgroundImage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" backgroundColor "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n        __INITIAL_STATE__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("preview"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageConfig"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    width"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" width"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    height"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" height"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    backgroundImage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("url(")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("backgroundImage"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    backgroundColor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" backgroundColor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    width"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    height"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screen"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 全屏展示")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resizeFull")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resizeFullBak")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ratioX "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ratioY "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    transform"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scale("')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ratioX "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('", "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ratioY "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('")"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    transformOrigin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"left top"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    backgroundSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"100% 100%"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resizeFullBak")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ratioX "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ratioY "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("css")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    transform"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scale("')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ratioX "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('", "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ratioY "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('")"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    transformOrigin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"left top"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    backgroundSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"100% "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ratioY "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br")])]),n("h2",{attrs:{id:"组件设计"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件设计"}},[t._v("#")]),t._v(" 组件设计")]),t._v(" "),n("p",[t._v("组件是整个大屏设计的基础。组件由组件模板来初始化，模板提供了两个主要功能，一是实现一个可开发的简单 Demo，二是提供打包发布功能。")]),t._v(" "),n("p",[t._v("模板代码很简单，通过传入的 props 控制组件的展示和业务逻辑。组件自动安装，这样在异步加载组件的时候页面可以识别组件。重点讲下组件的 Schema 设计。")]),t._v(" "),n("h4",{attrs:{id:"schema-json"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#schema-json"}},[t._v("#")]),t._v(" schema.json")]),t._v(" "),n("p",[t._v("schema.json 是用来定义组件的可编辑项和默认配置。决定组件哪些东西可以配置，配置的形式是什么样子的（Input、Select 等有默认值）。所以 Schema 包含 props 和 models 两个属性。")]),t._v(" "),n("p",[t._v("props: 数组，每个元素是 tab 的一项。info 是 tab 头部信息，fields 是配置项。fields 的 name 对应 models 的属性名，type 决定了配置的类型，title 是中文名。还可以定义其他属性，比如下拉框选择项、数字输入框最大最小值等。")]),t._v(" "),n("p",[t._v("models: 默认数据，"),n("code",[t._v("props.fileds")]),t._v(" 里每个 "),n("code",[t._v("name")]),t._v(" 的默认值。")]),t._v(" "),n("p",[t._v("下面是一个简单 Schema 的定义：")]),t._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"props"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"info"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"配置"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"icon"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"icon-setting"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"fields"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组件宽度"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"width"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组件宽度"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组件高度"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"height"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组件高度"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x轴坐标"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组件x轴坐标"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"y轴坐标"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"y"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组件y轴坐标"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"models"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"width"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"height"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"x"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"y"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br")])]),n("h2",{attrs:{id:"碰到的问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#碰到的问题"}},[t._v("#")]),t._v(" 碰到的问题")]),t._v(" "),n("h3",{attrs:{id:"通信"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#通信"}},[t._v("#")]),t._v(" 通信")]),t._v(" "),n("p",[t._v("大屏组件之间如何通信？要确保大屏组件可以通信。")]),t._v(" "),n("p",[t._v("采用事件中心来处理组件间的通信。核心代码如下：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 全局事件中心")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$eventBus "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发, 在组件内部")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$eventBus"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eventName'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'这里传值'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听, 获取值")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$eventBus"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eventName'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组件通知父组件区划变动或其他变动")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$eventBus"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'component__update-extraProps'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" dist"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'选择的区划'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("p",[t._v("App 统一管理通信对象 extraProps，以 props 形式注入到每个组件。组件可以监听 "),n("code",[t._v("extraProps")]),t._v(" 的属性变化。")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("// 组件代码\n{\n  ...,\n  props: {\n    extraProps: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  computed: {\n    dist() {\n      return (this.extraProps && this.extraProps.dist) || '';\n    }\n  },\n  watch: {\n    dist(val, oldVal){\n      // 添加区划改变时获取新数据的逻辑\n    }\n  }\n}\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br")])]),n("h3",{attrs:{id:"权限"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#权限"}},[t._v("#")]),t._v(" 权限")]),t._v(" "),n("p",[t._v("大屏数据需要做权限控制，有权限的人才能查看大屏，而鲁班原来页面访问逻辑是没有权限的。实现方案是编辑、预览页面调用的免登接口访问中间 Server，中间 Server 实现登录，去 Server 请求数据。用户的查看页面内嵌鲁班 iframe，该地址由实际服务器提供并带上权限 token。访问该鲁班地址时先去 Server 鉴权，有权限返回大屏页面，否则返回 401。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(349),alt:"img"}})]),t._v(" "),n("h2",{attrs:{id:"待优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#待优化"}},[t._v("#")]),t._v(" 待优化")]),t._v(" "),n("p",[t._v("Big 处于初级阶段，还有好多地方需要完善：")]),t._v(" "),n("ul",[n("li",[t._v("分组：像 PS、Sketch 里一样分组，方便归类和操作")]),t._v(" "),n("li",[t._v("多选：多选后选择对齐方式。也是方便用户操作")]),t._v(" "),n("li",[t._v("代码优化")]),t._v(" "),n("li",[t._v("体验优化")])]),t._v(" "),n("h2",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),n("p",[t._v("DT 时代，数据可视化将会越来越重要。相信有越来越多的同学会遇到大屏的场景。通过可视化搭建大屏系统，可以赋能相关的业务方，让非专业人士做出专业的大屏效果，同时满足公司的一些定制化需求。这里做了一个比较浅的大屏构建方案，目前还在开发阶段，希望抛砖引玉，有更多的可视化数据搭建方案分享出来，谢谢阅读。")])])}),[],!1,null,null,null);s.default=e.exports}}]);