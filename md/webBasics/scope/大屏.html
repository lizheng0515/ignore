<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>背景 | 前端进阶梳理</title>
    <meta name="description" content="查缺补漏，厚积薄发">
    <link rel="icon" href="/images/favicon.ico">
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="/style.css">
    
    <link rel="preload" href="/assets/css/0.styles.17757e47.css" as="style"><link rel="preload" href="/assets/js/app.46fd8109.js" as="script"><link rel="preload" href="/assets/js/2.4e55561f.js" as="script"><link rel="preload" href="/assets/js/12.9c504875.js" as="script"><link rel="preload" href="/assets/js/14.376a0de1.js" as="script"><link rel="prefetch" href="/assets/js/10.ff79739d.js"><link rel="prefetch" href="/assets/js/100.dae14178.js"><link rel="prefetch" href="/assets/js/101.783223e3.js"><link rel="prefetch" href="/assets/js/102.7aaf72e8.js"><link rel="prefetch" href="/assets/js/103.7788f966.js"><link rel="prefetch" href="/assets/js/104.a9c36ba3.js"><link rel="prefetch" href="/assets/js/105.6bd5f41f.js"><link rel="prefetch" href="/assets/js/106.c8a06f92.js"><link rel="prefetch" href="/assets/js/107.45cd9d87.js"><link rel="prefetch" href="/assets/js/108.5f254323.js"><link rel="prefetch" href="/assets/js/109.986207ba.js"><link rel="prefetch" href="/assets/js/11.1b848460.js"><link rel="prefetch" href="/assets/js/110.4f3a7c88.js"><link rel="prefetch" href="/assets/js/111.fc7dc31f.js"><link rel="prefetch" href="/assets/js/112.a537faee.js"><link rel="prefetch" href="/assets/js/113.75e1b03d.js"><link rel="prefetch" href="/assets/js/114.7a6c2080.js"><link rel="prefetch" href="/assets/js/115.262aa39f.js"><link rel="prefetch" href="/assets/js/116.f5fd9d86.js"><link rel="prefetch" href="/assets/js/117.49a03ee9.js"><link rel="prefetch" href="/assets/js/118.df7cde57.js"><link rel="prefetch" href="/assets/js/119.17769ead.js"><link rel="prefetch" href="/assets/js/120.c0d01a5e.js"><link rel="prefetch" href="/assets/js/121.3ee1b241.js"><link rel="prefetch" href="/assets/js/122.c57a4089.js"><link rel="prefetch" href="/assets/js/123.0809c6cc.js"><link rel="prefetch" href="/assets/js/124.57cb2b3b.js"><link rel="prefetch" href="/assets/js/125.3c1e84bb.js"><link rel="prefetch" href="/assets/js/126.34579b53.js"><link rel="prefetch" href="/assets/js/127.9d6555c5.js"><link rel="prefetch" href="/assets/js/128.745108c0.js"><link rel="prefetch" href="/assets/js/129.7e095257.js"><link rel="prefetch" href="/assets/js/13.1df42368.js"><link rel="prefetch" href="/assets/js/130.1d51beed.js"><link rel="prefetch" href="/assets/js/131.cbcc1df7.js"><link rel="prefetch" href="/assets/js/132.4d2c6e77.js"><link rel="prefetch" href="/assets/js/133.1ab052fc.js"><link rel="prefetch" href="/assets/js/134.8683d238.js"><link rel="prefetch" href="/assets/js/135.f53007d8.js"><link rel="prefetch" href="/assets/js/136.865154b6.js"><link rel="prefetch" href="/assets/js/137.5aa5b968.js"><link rel="prefetch" href="/assets/js/138.119789e2.js"><link rel="prefetch" href="/assets/js/139.8aabbed2.js"><link rel="prefetch" href="/assets/js/140.3e71a3f3.js"><link rel="prefetch" href="/assets/js/141.9242f622.js"><link rel="prefetch" href="/assets/js/142.41f89393.js"><link rel="prefetch" href="/assets/js/143.8045598d.js"><link rel="prefetch" href="/assets/js/144.d84469b8.js"><link rel="prefetch" href="/assets/js/145.e8c989a9.js"><link rel="prefetch" href="/assets/js/146.c5f91cc7.js"><link rel="prefetch" href="/assets/js/147.1388284a.js"><link rel="prefetch" href="/assets/js/148.98858ecf.js"><link rel="prefetch" href="/assets/js/149.344d18ba.js"><link rel="prefetch" href="/assets/js/15.d300779d.js"><link rel="prefetch" href="/assets/js/16.8a065148.js"><link rel="prefetch" href="/assets/js/17.fda35c95.js"><link rel="prefetch" href="/assets/js/18.0ec0fae3.js"><link rel="prefetch" href="/assets/js/19.80686a1b.js"><link rel="prefetch" href="/assets/js/20.729705cd.js"><link rel="prefetch" href="/assets/js/21.632ecd56.js"><link rel="prefetch" href="/assets/js/22.93c52e9c.js"><link rel="prefetch" href="/assets/js/23.45c27c98.js"><link rel="prefetch" href="/assets/js/24.c14c009d.js"><link rel="prefetch" href="/assets/js/25.18fc0534.js"><link rel="prefetch" href="/assets/js/26.130126b1.js"><link rel="prefetch" href="/assets/js/27.c1e01341.js"><link rel="prefetch" href="/assets/js/28.40e2e90c.js"><link rel="prefetch" href="/assets/js/29.3759e7de.js"><link rel="prefetch" href="/assets/js/3.6cb4969d.js"><link rel="prefetch" href="/assets/js/30.b2bfa82e.js"><link rel="prefetch" href="/assets/js/31.f08bff36.js"><link rel="prefetch" href="/assets/js/32.43349750.js"><link rel="prefetch" href="/assets/js/33.f9a9b7d1.js"><link rel="prefetch" href="/assets/js/34.e9e1f728.js"><link rel="prefetch" href="/assets/js/35.262f43e7.js"><link rel="prefetch" href="/assets/js/36.5e838a5a.js"><link rel="prefetch" href="/assets/js/37.f2ffbcc8.js"><link rel="prefetch" href="/assets/js/38.30ad561c.js"><link rel="prefetch" href="/assets/js/39.90ad5941.js"><link rel="prefetch" href="/assets/js/4.793bd7b8.js"><link rel="prefetch" href="/assets/js/40.fe5bac46.js"><link rel="prefetch" href="/assets/js/41.ba36c1c0.js"><link rel="prefetch" href="/assets/js/42.1c9059f4.js"><link rel="prefetch" href="/assets/js/43.434ae5e3.js"><link rel="prefetch" href="/assets/js/44.c5a117e3.js"><link rel="prefetch" href="/assets/js/45.33279ba8.js"><link rel="prefetch" href="/assets/js/46.cd3fcb89.js"><link rel="prefetch" href="/assets/js/47.0753e2d9.js"><link rel="prefetch" href="/assets/js/48.a7530acb.js"><link rel="prefetch" href="/assets/js/49.da419a1f.js"><link rel="prefetch" href="/assets/js/5.e11a37c1.js"><link rel="prefetch" href="/assets/js/50.6d0f9ecc.js"><link rel="prefetch" href="/assets/js/51.c8e83524.js"><link rel="prefetch" href="/assets/js/52.ef602911.js"><link rel="prefetch" href="/assets/js/53.6550aa9f.js"><link rel="prefetch" href="/assets/js/54.aa133d0b.js"><link rel="prefetch" href="/assets/js/55.553cdc3d.js"><link rel="prefetch" href="/assets/js/56.3a62701d.js"><link rel="prefetch" href="/assets/js/57.e190aaf9.js"><link rel="prefetch" href="/assets/js/58.a85486af.js"><link rel="prefetch" href="/assets/js/59.48bcf689.js"><link rel="prefetch" href="/assets/js/6.c62f5fc6.js"><link rel="prefetch" href="/assets/js/60.28646c1c.js"><link rel="prefetch" href="/assets/js/61.5a0f5412.js"><link rel="prefetch" href="/assets/js/62.33703e00.js"><link rel="prefetch" href="/assets/js/63.4436ecfc.js"><link rel="prefetch" href="/assets/js/64.0f300fa7.js"><link rel="prefetch" href="/assets/js/65.392d115c.js"><link rel="prefetch" href="/assets/js/66.23ef4ae3.js"><link rel="prefetch" href="/assets/js/67.7bf21110.js"><link rel="prefetch" href="/assets/js/68.bb321ef4.js"><link rel="prefetch" href="/assets/js/69.79e5edb2.js"><link rel="prefetch" href="/assets/js/7.9376e3d7.js"><link rel="prefetch" href="/assets/js/70.65a6d8d8.js"><link rel="prefetch" href="/assets/js/71.7b59cefe.js"><link rel="prefetch" href="/assets/js/72.61d5dbd1.js"><link rel="prefetch" href="/assets/js/73.bf1ddc45.js"><link rel="prefetch" href="/assets/js/74.f800e762.js"><link rel="prefetch" href="/assets/js/75.6372af58.js"><link rel="prefetch" href="/assets/js/76.e7cf9023.js"><link rel="prefetch" href="/assets/js/77.919c0956.js"><link rel="prefetch" href="/assets/js/78.cccda99c.js"><link rel="prefetch" href="/assets/js/79.88409091.js"><link rel="prefetch" href="/assets/js/8.6d4263b8.js"><link rel="prefetch" href="/assets/js/80.ba04ad40.js"><link rel="prefetch" href="/assets/js/81.603ec6ce.js"><link rel="prefetch" href="/assets/js/82.8851030e.js"><link rel="prefetch" href="/assets/js/83.dc3a5c9c.js"><link rel="prefetch" href="/assets/js/84.c4af0fa2.js"><link rel="prefetch" href="/assets/js/85.813d717f.js"><link rel="prefetch" href="/assets/js/86.70bea91f.js"><link rel="prefetch" href="/assets/js/87.03e120e5.js"><link rel="prefetch" href="/assets/js/88.a5bdc300.js"><link rel="prefetch" href="/assets/js/89.ee924672.js"><link rel="prefetch" href="/assets/js/9.e54bac0e.js"><link rel="prefetch" href="/assets/js/90.a5ac6342.js"><link rel="prefetch" href="/assets/js/91.bfdfc313.js"><link rel="prefetch" href="/assets/js/92.1797fe0c.js"><link rel="prefetch" href="/assets/js/93.3106fe2d.js"><link rel="prefetch" href="/assets/js/94.10895deb.js"><link rel="prefetch" href="/assets/js/95.88ece9ff.js"><link rel="prefetch" href="/assets/js/96.da703dd3.js"><link rel="prefetch" href="/assets/js/97.9a7ee943.js"><link rel="prefetch" href="/assets/js/98.5fc23981.js"><link rel="prefetch" href="/assets/js/99.e9f87ec0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.17757e47.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/hello-word.jpg" alt="前端进阶梳理" class="logo"> <span class="site-name can-hide">前端进阶梳理</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/md/resource/resource.html" class="nav-link">资源工具</a></div><div class="nav-item"><a href="/md/introduction/introduction.html" class="nav-link">导读</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Javascript" class="dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/md/js/jsBasic/" class="nav-link">JavaScript基础</a></li><li class="dropdown-item"><!----> <a href="/md/js/es6/" class="nav-link">ECMAScript 6</a></li><li class="dropdown-item"><h4>JS书籍</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/js/book/你不知道的javascript上.html" class="nav-link">你不知道的JavaScript(上)</a></li><li class="dropdown-subitem"><a href="/md/js/book/你不知道的javascript中.html" class="nav-link">你不知道的JavaScript(中下)</a></li><li class="dropdown-subitem"><a href="/md/js/book/es6.html" class="nav-link">深入理解ES6</a></li><li class="dropdown-subitem"><a href="/md/js/book/algorithm.html" class="nav-link">JavaScript数据结构和算法</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端概括" class="dropdown-title"><span class="title">前端概括</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/md/webBasics/CSS/" class="nav-link">CSS / HTML</a></li><li class="dropdown-item"><!----> <a href="/md/webBasics/Node/" class="nav-link">Node.js</a></li><li class="dropdown-item"><!----> <a href="/md/webBasics/allPath/" class="nav-link">全链路开发</a></li><li class="dropdown-item"><!----> <a href="/md/webBasics/scope/" class="nav-link router-link-active">领域分支</a></li></ul></div></div><div class="nav-item"><a href="/md/frame/" class="nav-link">框架/库</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="日积月累" class="dropdown-title"><span class="title">日积月累</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/md/codeBlock/module/" class="nav-link">代码模块</a></li><li class="dropdown-item"><!----> <a href="/md/codeBlock/week/" class="nav-link">每周汇总</a></li><li class="dropdown-item"><!----> <a href="/md/codeBlock/jobInterview/" class="nav-link">面试收集</a></li><li class="dropdown-item"><h4>方法论</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/1.html" class="nav-link">编程思想</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/2.html" class="nav-link">开发原则</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/3.html" class="nav-link">开发流程</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/6.html" class="nav-link">代码规范</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/4.html" class="nav-link">设计模式</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/5.html" class="nav-link">开源协议</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/md/about/" class="nav-link">关于我</a></div> <a href="https://github.com/lizheng0515/ignore/issues" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/md/resource/resource.html" class="nav-link">资源工具</a></div><div class="nav-item"><a href="/md/introduction/introduction.html" class="nav-link">导读</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Javascript" class="dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/md/js/jsBasic/" class="nav-link">JavaScript基础</a></li><li class="dropdown-item"><!----> <a href="/md/js/es6/" class="nav-link">ECMAScript 6</a></li><li class="dropdown-item"><h4>JS书籍</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/js/book/你不知道的javascript上.html" class="nav-link">你不知道的JavaScript(上)</a></li><li class="dropdown-subitem"><a href="/md/js/book/你不知道的javascript中.html" class="nav-link">你不知道的JavaScript(中下)</a></li><li class="dropdown-subitem"><a href="/md/js/book/es6.html" class="nav-link">深入理解ES6</a></li><li class="dropdown-subitem"><a href="/md/js/book/algorithm.html" class="nav-link">JavaScript数据结构和算法</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端概括" class="dropdown-title"><span class="title">前端概括</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/md/webBasics/CSS/" class="nav-link">CSS / HTML</a></li><li class="dropdown-item"><!----> <a href="/md/webBasics/Node/" class="nav-link">Node.js</a></li><li class="dropdown-item"><!----> <a href="/md/webBasics/allPath/" class="nav-link">全链路开发</a></li><li class="dropdown-item"><!----> <a href="/md/webBasics/scope/" class="nav-link router-link-active">领域分支</a></li></ul></div></div><div class="nav-item"><a href="/md/frame/" class="nav-link">框架/库</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="日积月累" class="dropdown-title"><span class="title">日积月累</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/md/codeBlock/module/" class="nav-link">代码模块</a></li><li class="dropdown-item"><!----> <a href="/md/codeBlock/week/" class="nav-link">每周汇总</a></li><li class="dropdown-item"><!----> <a href="/md/codeBlock/jobInterview/" class="nav-link">面试收集</a></li><li class="dropdown-item"><h4>方法论</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/1.html" class="nav-link">编程思想</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/2.html" class="nav-link">开发原则</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/3.html" class="nav-link">开发流程</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/6.html" class="nav-link">代码规范</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/4.html" class="nav-link">设计模式</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/5.html" class="nav-link">开源协议</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/md/about/" class="nav-link">关于我</a></div> <a href="https://github.com/lizheng0515/ignore/issues" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/md/webBasics/scope/" class="sidebar-link">目录</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>移动端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/webBasics/scope/微信小程序云开发.html" class="sidebar-link">微信小程序云开发</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>可视化/图形学</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/webBasics/scope/大屏.html" class="active sidebar-link">数据大屏可视化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/md/webBasics/scope/大屏.html#背景" class="sidebar-link">背景</a></li><li class="sidebar-sub-header"><a href="/md/webBasics/scope/大屏.html#自己做一套系统的优势" class="sidebar-link">自己做一套系统的优势</a></li><li class="sidebar-sub-header"><a href="/md/webBasics/scope/大屏.html#总览" class="sidebar-link">总览</a></li><li class="sidebar-sub-header"><a href="/md/webBasics/scope/大屏.html#编辑" class="sidebar-link">编辑</a></li><li class="sidebar-sub-header"><a href="/md/webBasics/scope/大屏.html#查看" class="sidebar-link">查看</a></li><li class="sidebar-sub-header"><a href="/md/webBasics/scope/大屏.html#组件设计" class="sidebar-link">组件设计</a></li><li class="sidebar-sub-header"><a href="/md/webBasics/scope/大屏.html#碰到的问题" class="sidebar-link">碰到的问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/md/webBasics/scope/大屏.html#通信" class="sidebar-link">通信</a></li><li class="sidebar-sub-header"><a href="/md/webBasics/scope/大屏.html#权限" class="sidebar-link">权限</a></li></ul></li><li class="sidebar-sub-header"><a href="/md/webBasics/scope/大屏.html#待优化" class="sidebar-link">待优化</a></li><li class="sidebar-sub-header"><a href="/md/webBasics/scope/大屏.html#总结" class="sidebar-link">总结</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>SSR</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/webBasics/scope/ssr.html" class="sidebar-link">解密Vue SSR</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>WebAssembly</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/webBasics/scope/4.html" class="sidebar-link">WebAssembly-1</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>大前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/webBasics/scope/5.html" class="sidebar-link">大前端-1</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>微前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/webBasics/scope/6.html" class="sidebar-link">微前端</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>web游戏开发</span> <!----></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h2> <p>随着公司业务的发展，经常会收到一些数据大屏的需求。目前做了有两种实现方案，一是人肉搭建，二是用阿里云 DataV 搭建。</p> <p>人肉搭建，在本地脚手架开发环境中进行编码，有大量的重复劳动，能力复用性差，占用前端宝贵的开发时间。</p> <p>DataV 功能强大，但需要付费使用，且好用的组件还要额外收费，不支持本地化部署，还需要维护两套数仓。</p> <h2 id="自己做一套系统的优势"><a href="#自己做一套系统的优势" class="header-anchor">#</a> 自己做一套系统的优势</h2> <ul><li>可定制性：内部产品，组件和展示形式私人订制</li> <li>支持本地化部署：业务需要决定部分业务只能在内网访问，无法访问外网（包括阿里云）</li> <li>解决 DataV 需要维护两套数仓的问题</li> <li>节约公司成本，增强公司数据产品能力，助力营收</li></ul> <h2 id="总览"><a href="#总览" class="header-anchor">#</a> 总览</h2> <p>数据大屏是用可视化的方式展示庞杂数据的产品，经常会用在会议展览、业务监控、风险预警、地理信息分析等多种业务场景。下图是阿里云 DataV 的一个模板：</p> <p><img src="/assets/img/1.54095b1b.png" alt="img"></p> <p><strong>从前端实现来看，大屏是由线图、柱状图、饼图、标题、背景、边框等基本元素组成。实现思路是以这些基本元素为组件，通过选择组件、拖拽方式布局，配置样式、数据来源，将这些数据保存在数据库中。展示页面获取依赖的组件、样式和数据信息，呈现给用户。</strong></p> <p>大屏按场景划分，可分为编辑和查看。</p> <p>编辑：指的是大屏制作者制作大屏。</p> <p>查看：包含两种情况，大屏制作者预览和实际用户查看大屏。</p> <h2 id="编辑"><a href="#编辑" class="header-anchor">#</a> 编辑</h2> <p><img src="/assets/img/2.be9a34b1.gif" alt="img"></p> <p>编辑大屏是数据可视化系统核心，页面布局参考 DataV：</p> <p><img src="/assets/img/3.f9177a96.png" alt="img"></p> <p>拆解为 4 个部分：顶部、组件区、画布、数据配置区。先讲下设计思路，再依次分解各区。</p> <h4 id="设计思路"><a href="#设计思路" class="header-anchor">#</a> 设计思路</h4> <ul><li>页面数据和依赖的组件由 SSR (https://juejin.im/post/5b063962f265da0ddb63dac3) 注入到 HTML 文件中</li> <li>App 数据保存在 App state 中，未使用 Vuex（后续会考虑使用 Vuex）</li> <li>数据用 props 传递给子组件</li> <li>数据从子组件采用事件中心传递给祖父级组件</li></ul> <h4 id="顶部"><a href="#顶部" class="header-anchor">#</a> 顶部</h4> <p>顶部区域包含三部分：左侧开关区、控制图层、组件列表、数据配置区的显示隐藏；中间是大屏的标题；右侧是保存和预览。</p> <h4 id="组件区"><a href="#组件区" class="header-anchor">#</a> 组件区</h4> <p>组件区分为左侧图层（已添加的组件）和右侧组件列表，具备添加组件、选择操作图层、分组对齐的功能。</p> <p><strong>图层</strong></p> <ul><li>图层支持上移、下移、置顶、删除的操作，支持右键显示操作菜单（暂不支持多选和分组）。实现原理是使用数组的基本方法改变数组</li> <li>单击组件选择该组件，画布区选中组件，数据配置区显示配置项</li></ul> <p><strong>组件列表</strong></p> <ul><li>所有组件展示所有大屏组件，点击或拖动添加组件</li> <li>添加组件采用异步获取组件的 JS、CSS 、配置 Schema，将 CSS、JS 插入 DOM 中，配置传入属性配置区</li> <li>支持按组件类型分组，便于用户使用。</li></ul> <h4 id="画布"><a href="#画布" class="header-anchor">#</a> 画布</h4> <p>画布用于实时展示大屏组件的位置、尺寸、属性和数据修改后的效果。</p> <p>位置和尺寸改变通过注册组件 <code>vue-draggable-resizable</code> 的 <code>drag</code> 和 <code>resize</code> 方法，改变对应组件的属性。组件采用绝对定位，拖动时修改 top 和 left 的值。</p> <p>属性改变通过修改对应组件的 props.models 的值修改。</p> <p>数据分为静态数据和接口数据。启用静态数据时，数据从用户填写的数据获取。否则组件 watch 接口 id ，每次改变时重新发送请求获取数据。</p> <p>画布上边和左边是标尺，画布缩放时标尺要跟随变动。在标尺上移动时显示一条移动的参考线。点击时增加一条参考线。双击参考线删除。标尺用 Canvas 画出，旋转 90 度可获得 Y 轴。</p> <p>右下是缩放滑块，方便用户缩放查看。进入页面默认缩放到可查看全屏大小。缩放实现使用 CSS3 的<code>transform: scale(${this.scale})</code>。</p> <p>画布上未选择组件时，显示页面的基本配置，包括大屏的宽高、背景图。</p> <p>选择组件后，高亮显示当前组件，标识位置，右侧数据配置区显示组件 Schema 定义的配置项。</p> <p><strong>核心代码</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
  <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item in preCompList<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>[
    'data-com',
    item.info.previewId === activePreviewId ? 'data-com-active' : ''
  ]<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.info.activePreviewId<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>vue-draggable-resizable</span>
    <span class="token attr-name">:w</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.models.width || 100<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:h</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.models.height || 100<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.models.x || 0<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.models.y || 0<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:active</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.info.previewId === activePreviewId<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">@dragging</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onDrag<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">@resizing</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>onResize<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">@activated</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>
      () =&gt; {
        onCompActivated(item.info.previewId);
      }<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:prevent-deactivation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator-line</span>
      <span class="token attr-name">:x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.models.x<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.models.y<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:scale</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scale<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> 
      <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.info.name<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name">:models</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>item.models<span class="token punctuation">&quot;</span></span> 
      <span class="token attr-name">:extraProps</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>extraProps<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>vue-draggable-resizable</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>vue-draggable-resizable (https://npm.taobao.org/package/vue-draggable-resizable) 用于选择组件、缩放组件大小，可参考官方文档。这个组件不支持分组和多选对齐场景，需要定制开发。</p> <p><code>navigator-line</code> 显示组件当前的标尺位置。这里要注意避免因为画布缩小导致坐标看不清，除以缩放比例即可。</p> <p>使用 Vue 动态组件 is (https://cn.vuejs.org/v2/api/#is) 控制组件显示。</p> <h4 id="数据配置区"><a href="#数据配置区" class="header-anchor">#</a> 数据配置区</h4> <p>数据配置区有 2 种情况：</p> <ul><li>未选中组件展示页面级配置：大屏宽高、背景色、背景图等</li> <li>选中组件：展示组件配置信息</li></ul> <p>实现逻辑：根据当前用户的选择来动态渲染出组件的属性编辑域，并回填属性的初始值，从而达到良好的编辑交互效果。用户拖拽组件时同步更新编辑域中的属性值，在属性编辑域修改属性时通知大屏触发组件的刷新动作，达到实时编辑的效果。</p> <p>数据配置区界面由组件 Schema 定义，props 定义展示，models 表示默认数据，详细介绍见下面 Schema。</p> <p>编辑类型由 fileds 里的 type 决定，实现 Input、Select、Image、Border 等各种类型组件，再利用 Vue 的动态组件 is 属性来展示。</p> <p>数据回传：每个子组件值的修改会通知父组件 <code>&lt;Setting /&gt;</code> 更新回传给父组件 App，这里采用全量回传，避免 App 对 models 查找更新数据。</p> <h2 id="查看"><a href="#查看" class="header-anchor">#</a> 查看</h2> <p>查看是将数据库里保存的数据，配合组件渲染出来。实现原理是通过页面 id 获取组件、数据渲染。代码如下：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>preview<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>layout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
      <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>[
        'preview-line',
        preComp.info.name + '-' + preComp.info.previewId
      ]<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>(preComp, index) in preCompList<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>preComp.info.previewId<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token function">formatCompStyle</span><span class="token punctuation">(</span>preComp<span class="token punctuation">,</span> index<span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> 
       <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>preComp.info.name<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name">:models</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>preComp.models<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name">:isPreview</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>isPreview<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name">:extraProps</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>extraProps<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id=""><a href="#" class="header-anchor">#</a></h4> <h4 id="-2"><a href="#-2" class="header-anchor">#</a></h4> <h4 id="全屏展示"><a href="#全屏展示" class="header-anchor">#</a> 全屏展示</h4> <p>需要注意大屏是全屏展示，根据大屏配置的屏幕宽高、背景图、背景色设置 body 样式，设置 <code>&lt;meta name=&quot;viewport&quot; content=&quot;width=' + window.screen.width + '&quot;/&gt;</code> viewport 的 width 让屏幕占满全屏，再监听屏幕的变化设置压缩比例。自适应关键代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 获取设置的大屏宽高、背景图、背景色</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>__INITIAL_STATE__<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> backgroundImage<span class="token punctuation">,</span> backgroundColor <span class="token punctuation">}</span> <span class="token operator">=</span>
        __INITIAL_STATE__<span class="token punctuation">.</span>preview<span class="token punctuation">.</span>pageConfig<span class="token punctuation">.</span>models<span class="token punctuation">;</span>
  window<span class="token punctuation">.</span>scr <span class="token operator">=</span> <span class="token punctuation">{</span>
    width<span class="token punctuation">:</span> width<span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> height<span class="token punctuation">,</span>
    backgroundImage<span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">url(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>backgroundImage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    backgroundColor<span class="token punctuation">:</span> backgroundColor<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>scr <span class="token operator">=</span> <span class="token punctuation">{</span>
    width<span class="token punctuation">:</span> window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>width<span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>height<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 全屏展示</span>
<span class="token keyword">function</span> <span class="token function">resizeFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>scr<span class="token punctuation">.</span>height <span class="token operator">||</span> <span class="token operator">!</span>window<span class="token punctuation">.</span>scr<span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">resizeFullBak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> ratioX <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> window<span class="token punctuation">.</span>scr<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
  <span class="token keyword">var</span> ratioY <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> window<span class="token punctuation">.</span>scr<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    transform<span class="token punctuation">:</span> <span class="token string">&quot;scale(&quot;</span> <span class="token operator">+</span> ratioX <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> ratioY <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">,</span>
    transformOrigin<span class="token punctuation">:</span> <span class="token string">&quot;left top&quot;</span><span class="token punctuation">,</span>
    backgroundSize<span class="token punctuation">:</span> <span class="token string">&quot;100% 100%&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">resizeFullBak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> ratioX <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> ratioY <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    transform<span class="token punctuation">:</span> <span class="token string">&quot;scale(&quot;</span> <span class="token operator">+</span> ratioX <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> ratioY <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">,</span>
    transformOrigin<span class="token punctuation">:</span> <span class="token string">&quot;left top&quot;</span><span class="token punctuation">,</span>
    backgroundSize<span class="token punctuation">:</span> <span class="token string">&quot;100% &quot;</span> <span class="token operator">+</span> ratioY <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h2 id="组件设计"><a href="#组件设计" class="header-anchor">#</a> 组件设计</h2> <p>组件是整个大屏设计的基础。组件由组件模板来初始化，模板提供了两个主要功能，一是实现一个可开发的简单 Demo，二是提供打包发布功能。</p> <p>模板代码很简单，通过传入的 props 控制组件的展示和业务逻辑。组件自动安装，这样在异步加载组件的时候页面可以识别组件。重点讲下组件的 Schema 设计。</p> <h4 id="schema-json"><a href="#schema-json" class="header-anchor">#</a> schema.json</h4> <p>schema.json 是用来定义组件的可编辑项和默认配置。决定组件哪些东西可以配置，配置的形式是什么样子的（Input、Select 等有默认值）。所以 Schema 包含 props 和 models 两个属性。</p> <p>props: 数组，每个元素是 tab 的一项。info 是 tab 头部信息，fields 是配置项。fields 的 name 对应 models 的属性名，type 决定了配置的类型，title 是中文名。还可以定义其他属性，比如下拉框选择项、数字输入框最大最小值等。</p> <p>models: 默认数据，<code>props.fileds</code> 里每个 <code>name</code> 的默认值。</p> <p>下面是一个简单 Schema 的定义：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;props&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;配置&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;icon-setting&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;组件宽度&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;width&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;组件宽度&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;number&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;组件高度&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;组件高度&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;number&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;x轴坐标&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;组件x轴坐标&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;number&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;y轴坐标&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;组件y轴坐标&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;number&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;models&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;width&quot;</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
    <span class="token property">&quot;height&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h2 id="碰到的问题"><a href="#碰到的问题" class="header-anchor">#</a> 碰到的问题</h2> <h3 id="通信"><a href="#通信" class="header-anchor">#</a> 通信</h3> <p>大屏组件之间如何通信？要确保大屏组件可以通信。</p> <p>采用事件中心来处理组件间的通信。核心代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 全局事件中心</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$eventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 触发, 在组件内部</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$eventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'eventName'</span><span class="token punctuation">,</span> <span class="token string">'这里传值'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 监听, 获取值</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$eventBus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'eventName'</span><span class="token punctuation">,</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 组件通知父组件区划变动或其他变动</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$eventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'component__update-extraProps'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> dist<span class="token punctuation">:</span> <span class="token string">'选择的区划'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>App 统一管理通信对象 extraProps，以 props 形式注入到每个组件。组件可以监听 <code>extraProps</code> 的属性变化。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 组件代码
{
  ...,
  props: {
    extraProps: {
      type: Object,
      default: () =&gt; {}
    }
  },
  computed: {
    dist() {
      return (this.extraProps &amp;&amp; this.extraProps.dist) || '';
    }
  },
  watch: {
    dist(val, oldVal){
      // 添加区划改变时获取新数据的逻辑
    }
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="权限"><a href="#权限" class="header-anchor">#</a> 权限</h3> <p>大屏数据需要做权限控制，有权限的人才能查看大屏，而鲁班原来页面访问逻辑是没有权限的。实现方案是编辑、预览页面调用的免登接口访问中间 Server，中间 Server 实现登录，去 Server 请求数据。用户的查看页面内嵌鲁班 iframe，该地址由实际服务器提供并带上权限 token。访问该鲁班地址时先去 Server 鉴权，有权限返回大屏页面，否则返回 401。</p> <p><img src="data:image/png;base64,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" alt="img"></p> <h2 id="待优化"><a href="#待优化" class="header-anchor">#</a> 待优化</h2> <p>Big 处于初级阶段，还有好多地方需要完善：</p> <ul><li>分组：像 PS、Sketch 里一样分组，方便归类和操作</li> <li>多选：多选后选择对齐方式。也是方便用户操作</li> <li>代码优化</li> <li>体验优化</li></ul> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>DT 时代，数据可视化将会越来越重要。相信有越来越多的同学会遇到大屏的场景。通过可视化搭建大屏系统，可以赋能相关的业务方，让非专业人士做出专业的大屏效果，同时满足公司的一些定制化需求。这里做了一个比较浅的大屏构建方案，目前还在开发阶段，希望抛砖引玉，有更多的可视化数据搭建方案分享出来，谢谢阅读。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/md/webBasics/scope/微信小程序云开发.html" class="prev">微信小程序云开发</a></span> <span class="next"><a href="/md/webBasics/scope/ssr.html">解密Vue SSR</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.46fd8109.js" defer></script><script src="/assets/js/2.4e55561f.js" defer></script><script src="/assets/js/12.9c504875.js" defer></script><script src="/assets/js/14.376a0de1.js" defer></script>
  </body>
</html>
