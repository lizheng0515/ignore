<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>你或许不知道Vue的这些小技巧 | 前端进阶梳理</title>
    <meta name="description" content="查缺补漏，厚积薄发">
    <link rel="icon" href="/images/favicon.ico">
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="/style.css">
    
    <link rel="preload" href="/assets/css/0.styles.17757e47.css" as="style"><link rel="preload" href="/assets/js/app.4e0435ca.js" as="script"><link rel="preload" href="/assets/js/2.04219cb5.js" as="script"><link rel="preload" href="/assets/js/59.c9703f26.js" as="script"><link rel="preload" href="/assets/js/14.fa62e12d.js" as="script"><link rel="prefetch" href="/assets/js/10.fd7328de.js"><link rel="prefetch" href="/assets/js/100.6d8356e6.js"><link rel="prefetch" href="/assets/js/101.8f4a3183.js"><link rel="prefetch" href="/assets/js/102.d40f505b.js"><link rel="prefetch" href="/assets/js/103.8a69cf89.js"><link rel="prefetch" href="/assets/js/104.16723fdd.js"><link rel="prefetch" href="/assets/js/105.e3561ea4.js"><link rel="prefetch" href="/assets/js/106.1c38cbca.js"><link rel="prefetch" href="/assets/js/107.c9b7ead4.js"><link rel="prefetch" href="/assets/js/108.fec72140.js"><link rel="prefetch" href="/assets/js/109.e4d452c6.js"><link rel="prefetch" href="/assets/js/11.62420f25.js"><link rel="prefetch" href="/assets/js/110.c786ef84.js"><link rel="prefetch" href="/assets/js/111.d793af14.js"><link rel="prefetch" href="/assets/js/112.60663297.js"><link rel="prefetch" href="/assets/js/113.d2db788f.js"><link rel="prefetch" href="/assets/js/114.1005f472.js"><link rel="prefetch" href="/assets/js/115.d3d48b69.js"><link rel="prefetch" href="/assets/js/116.d0116306.js"><link rel="prefetch" href="/assets/js/117.096e81fc.js"><link rel="prefetch" href="/assets/js/118.6b1af5ca.js"><link rel="prefetch" href="/assets/js/119.0afe98c2.js"><link rel="prefetch" href="/assets/js/12.45cacbf6.js"><link rel="prefetch" href="/assets/js/120.3693037f.js"><link rel="prefetch" href="/assets/js/121.4f52f76f.js"><link rel="prefetch" href="/assets/js/122.6d51f9e1.js"><link rel="prefetch" href="/assets/js/123.6af9d3e1.js"><link rel="prefetch" href="/assets/js/124.0aae3048.js"><link rel="prefetch" href="/assets/js/125.5e3afd31.js"><link rel="prefetch" href="/assets/js/126.a8ec53ce.js"><link rel="prefetch" href="/assets/js/127.4b312a04.js"><link rel="prefetch" href="/assets/js/128.96d8d04e.js"><link rel="prefetch" href="/assets/js/129.05e536d7.js"><link rel="prefetch" href="/assets/js/13.7b9cecf2.js"><link rel="prefetch" href="/assets/js/130.1ac6a27d.js"><link rel="prefetch" href="/assets/js/131.bd67a98b.js"><link rel="prefetch" href="/assets/js/132.988d57ec.js"><link rel="prefetch" href="/assets/js/133.4d2a436c.js"><link rel="prefetch" href="/assets/js/134.6f80da26.js"><link rel="prefetch" href="/assets/js/135.b919c4a8.js"><link rel="prefetch" href="/assets/js/136.3e24bf0b.js"><link rel="prefetch" href="/assets/js/137.f2f2af70.js"><link rel="prefetch" href="/assets/js/138.5660bfd5.js"><link rel="prefetch" href="/assets/js/139.c278da1b.js"><link rel="prefetch" href="/assets/js/140.1089e7ad.js"><link rel="prefetch" href="/assets/js/141.afc3c310.js"><link rel="prefetch" href="/assets/js/142.20357454.js"><link rel="prefetch" href="/assets/js/143.205da5ee.js"><link rel="prefetch" href="/assets/js/144.44d7bb97.js"><link rel="prefetch" href="/assets/js/145.e9114ee2.js"><link rel="prefetch" href="/assets/js/15.a36fdfcc.js"><link rel="prefetch" href="/assets/js/16.26dac060.js"><link rel="prefetch" href="/assets/js/17.33c37d3b.js"><link rel="prefetch" href="/assets/js/18.9df62fb6.js"><link rel="prefetch" href="/assets/js/19.87850f83.js"><link rel="prefetch" href="/assets/js/20.727374e1.js"><link rel="prefetch" href="/assets/js/21.54b44bfc.js"><link rel="prefetch" href="/assets/js/22.a2b6288f.js"><link rel="prefetch" href="/assets/js/23.ff26b8aa.js"><link rel="prefetch" href="/assets/js/24.e116138d.js"><link rel="prefetch" href="/assets/js/25.68219dfd.js"><link rel="prefetch" href="/assets/js/26.62f0231f.js"><link rel="prefetch" href="/assets/js/27.9c31933e.js"><link rel="prefetch" href="/assets/js/28.5e7e5a76.js"><link rel="prefetch" href="/assets/js/29.76b9c597.js"><link rel="prefetch" href="/assets/js/3.e03a21f4.js"><link rel="prefetch" href="/assets/js/30.65be1bc1.js"><link rel="prefetch" href="/assets/js/31.7d6bf50f.js"><link rel="prefetch" href="/assets/js/32.73407af6.js"><link rel="prefetch" href="/assets/js/33.e9bcaf6e.js"><link rel="prefetch" href="/assets/js/34.7d2f6e9b.js"><link rel="prefetch" href="/assets/js/35.acef441e.js"><link rel="prefetch" href="/assets/js/36.93ad7b37.js"><link rel="prefetch" href="/assets/js/37.70309a57.js"><link rel="prefetch" href="/assets/js/38.9d4d713f.js"><link rel="prefetch" href="/assets/js/39.1009d0ef.js"><link rel="prefetch" href="/assets/js/4.41ee3e6d.js"><link rel="prefetch" href="/assets/js/40.eb713905.js"><link rel="prefetch" href="/assets/js/41.ce69d14f.js"><link rel="prefetch" href="/assets/js/42.13dd7ec0.js"><link rel="prefetch" href="/assets/js/43.060c75b5.js"><link rel="prefetch" href="/assets/js/44.f3b56735.js"><link rel="prefetch" href="/assets/js/45.20863ea8.js"><link rel="prefetch" href="/assets/js/46.3f27eedb.js"><link rel="prefetch" href="/assets/js/47.39b85e6f.js"><link rel="prefetch" href="/assets/js/48.3be89ba2.js"><link rel="prefetch" href="/assets/js/49.868df574.js"><link rel="prefetch" href="/assets/js/5.82ba14e2.js"><link rel="prefetch" href="/assets/js/50.9bc2f1af.js"><link rel="prefetch" href="/assets/js/51.cc6a4bf8.js"><link rel="prefetch" href="/assets/js/52.bc00435c.js"><link rel="prefetch" href="/assets/js/53.806ca95a.js"><link rel="prefetch" href="/assets/js/54.c088622d.js"><link rel="prefetch" href="/assets/js/55.ea7bfa2d.js"><link rel="prefetch" href="/assets/js/56.2956917b.js"><link rel="prefetch" href="/assets/js/57.a66acfbe.js"><link rel="prefetch" href="/assets/js/58.89d64c94.js"><link rel="prefetch" href="/assets/js/6.abd0b3ce.js"><link rel="prefetch" href="/assets/js/60.84fb508f.js"><link rel="prefetch" href="/assets/js/61.0458de69.js"><link rel="prefetch" href="/assets/js/62.732e2842.js"><link rel="prefetch" href="/assets/js/63.2a3868a5.js"><link rel="prefetch" href="/assets/js/64.60e5bbf5.js"><link rel="prefetch" href="/assets/js/65.ced324c9.js"><link rel="prefetch" href="/assets/js/66.908a941e.js"><link rel="prefetch" href="/assets/js/67.0b996a4c.js"><link rel="prefetch" href="/assets/js/68.0ba7e054.js"><link rel="prefetch" href="/assets/js/69.0fcad8c9.js"><link rel="prefetch" href="/assets/js/7.b6580899.js"><link rel="prefetch" href="/assets/js/70.fb7aeb7c.js"><link rel="prefetch" href="/assets/js/71.aed45d21.js"><link rel="prefetch" href="/assets/js/72.28d21aa5.js"><link rel="prefetch" href="/assets/js/73.87966027.js"><link rel="prefetch" href="/assets/js/74.2c8d829a.js"><link rel="prefetch" href="/assets/js/75.076fef8d.js"><link rel="prefetch" href="/assets/js/76.940a8c15.js"><link rel="prefetch" href="/assets/js/77.b1fd3795.js"><link rel="prefetch" href="/assets/js/78.1bd92f56.js"><link rel="prefetch" href="/assets/js/79.f847dd51.js"><link rel="prefetch" href="/assets/js/8.40a63a09.js"><link rel="prefetch" href="/assets/js/80.90c3558f.js"><link rel="prefetch" href="/assets/js/81.13e87c94.js"><link rel="prefetch" href="/assets/js/82.351912c0.js"><link rel="prefetch" href="/assets/js/83.127e331e.js"><link rel="prefetch" href="/assets/js/84.adc36f35.js"><link rel="prefetch" href="/assets/js/85.09c55380.js"><link rel="prefetch" href="/assets/js/86.0d7ea8a7.js"><link rel="prefetch" href="/assets/js/87.d2e7cb67.js"><link rel="prefetch" href="/assets/js/88.26ef9b72.js"><link rel="prefetch" href="/assets/js/89.107cb5dd.js"><link rel="prefetch" href="/assets/js/9.eb1fcb81.js"><link rel="prefetch" href="/assets/js/90.65cba6f7.js"><link rel="prefetch" href="/assets/js/91.9de7f016.js"><link rel="prefetch" href="/assets/js/92.f6f1b156.js"><link rel="prefetch" href="/assets/js/93.d5e571df.js"><link rel="prefetch" href="/assets/js/94.4f308905.js"><link rel="prefetch" href="/assets/js/95.2d8fedff.js"><link rel="prefetch" href="/assets/js/96.0e986d70.js"><link rel="prefetch" href="/assets/js/97.d4dfc858.js"><link rel="prefetch" href="/assets/js/98.95b33636.js"><link rel="prefetch" href="/assets/js/99.0b93c477.js">
    <link rel="stylesheet" href="/assets/css/0.styles.17757e47.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/hello-word.jpg" alt="前端进阶梳理" class="logo"> <span class="site-name can-hide">前端进阶梳理</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/md/resource/resource.html" class="nav-link">资源工具</a></div><div class="nav-item"><a href="/md/introduction/introduction.html" class="nav-link">导读</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Javascript" class="dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/md/js/jsBasic/" class="nav-link">JavaScript基础</a></li><li class="dropdown-item"><!----> <a href="/md/js/es6/" class="nav-link">ECMAScript 6</a></li><li class="dropdown-item"><h4>JS书籍</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/js/book/你不知道的javascript上.html" class="nav-link">你不知道的JavaScript(上)</a></li><li class="dropdown-subitem"><a href="/md/js/book/你不知道的javascript中.html" class="nav-link">你不知道的JavaScript(中下)</a></li><li class="dropdown-subitem"><a href="/md/js/book/es6.html" class="nav-link">深入理解ES6</a></li><li class="dropdown-subitem"><a href="/md/js/book/algorithm.html" class="nav-link">JavaScript数据结构和算法</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端概括" class="dropdown-title"><span class="title">前端概括</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/md/webBasics/CSS/" class="nav-link">CSS / HTML</a></li><li class="dropdown-item"><!----> <a href="/md/webBasics/Node/" class="nav-link">Node.js</a></li><li class="dropdown-item"><!----> <a href="/md/webBasics/allPath/" class="nav-link">全链路开发</a></li><li class="dropdown-item"><!----> <a href="/md/webBasics/scope/" class="nav-link">领域分支</a></li></ul></div></div><div class="nav-item"><a href="/md/frame/" class="nav-link router-link-active">框架/库</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="日积月累" class="dropdown-title"><span class="title">日积月累</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/md/codeBlock/module/" class="nav-link">代码模块</a></li><li class="dropdown-item"><!----> <a href="/md/codeBlock/week/" class="nav-link">每周汇总</a></li><li class="dropdown-item"><!----> <a href="/md/codeBlock/jobInterview/" class="nav-link">面试收集</a></li><li class="dropdown-item"><h4>方法论</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/1.html" class="nav-link">编程思想</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/2.html" class="nav-link">开发原则</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/3.html" class="nav-link">开发流程</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/6.html" class="nav-link">代码规范</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/4.html" class="nav-link">设计模式</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/5.html" class="nav-link">开源协议</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/md/about/" class="nav-link">关于我</a></div> <a href="https://github.com/lizheng0515/ignore/issues" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/md/resource/resource.html" class="nav-link">资源工具</a></div><div class="nav-item"><a href="/md/introduction/introduction.html" class="nav-link">导读</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Javascript" class="dropdown-title"><span class="title">Javascript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/md/js/jsBasic/" class="nav-link">JavaScript基础</a></li><li class="dropdown-item"><!----> <a href="/md/js/es6/" class="nav-link">ECMAScript 6</a></li><li class="dropdown-item"><h4>JS书籍</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/js/book/你不知道的javascript上.html" class="nav-link">你不知道的JavaScript(上)</a></li><li class="dropdown-subitem"><a href="/md/js/book/你不知道的javascript中.html" class="nav-link">你不知道的JavaScript(中下)</a></li><li class="dropdown-subitem"><a href="/md/js/book/es6.html" class="nav-link">深入理解ES6</a></li><li class="dropdown-subitem"><a href="/md/js/book/algorithm.html" class="nav-link">JavaScript数据结构和算法</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端概括" class="dropdown-title"><span class="title">前端概括</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/md/webBasics/CSS/" class="nav-link">CSS / HTML</a></li><li class="dropdown-item"><!----> <a href="/md/webBasics/Node/" class="nav-link">Node.js</a></li><li class="dropdown-item"><!----> <a href="/md/webBasics/allPath/" class="nav-link">全链路开发</a></li><li class="dropdown-item"><!----> <a href="/md/webBasics/scope/" class="nav-link">领域分支</a></li></ul></div></div><div class="nav-item"><a href="/md/frame/" class="nav-link router-link-active">框架/库</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="日积月累" class="dropdown-title"><span class="title">日积月累</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/md/codeBlock/module/" class="nav-link">代码模块</a></li><li class="dropdown-item"><!----> <a href="/md/codeBlock/week/" class="nav-link">每周汇总</a></li><li class="dropdown-item"><!----> <a href="/md/codeBlock/jobInterview/" class="nav-link">面试收集</a></li><li class="dropdown-item"><h4>方法论</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/1.html" class="nav-link">编程思想</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/2.html" class="nav-link">开发原则</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/3.html" class="nav-link">开发流程</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/6.html" class="nav-link">代码规范</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/4.html" class="nav-link">设计模式</a></li><li class="dropdown-subitem"><a href="/md/codeBlock/methodology/5.html" class="nav-link">开源协议</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/md/about/" class="nav-link">关于我</a></div> <a href="https://github.com/lizheng0515/ignore/issues" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/md/frame/" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue.js</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/frame/Vue/vue.html" class="sidebar-link">1.Vue集合</a></li><li><a href="/md/frame/Vue/巧用Proxy.html" class="sidebar-link">2.巧用Proxy</a></li><li><a href="/md/frame/Vue/Vue性能优化.html" class="sidebar-link">3.Vue性能优化</a></li><li><a href="/md/frame/Vue/Vue懒加载.html" class="sidebar-link">4.组件懒加载:Vue Lazy Component介绍</a></li><li><a href="/md/frame/Vue/vuepress.html" class="sidebar-link">5.vuepress集合</a></li><li><a href="/md/frame/Vue/Vue应该知道的几点.html" class="sidebar-link">6.Vue应该知道的几点</a></li><li><a href="/md/frame/Vue/虚拟DOM与DOM-diff.html" class="sidebar-link">7.虚拟DOM与DOM-diff</a></li><li><a href="/md/frame/Vue/Vue123.html" class="sidebar-link">8.Vue源码解析准备</a></li><li><a href="/md/frame/Vue/Vue源码目录.html" class="sidebar-link">9.Vue源码目录</a></li><li><a href="/md/frame/Vue/前端路由简介以及vue-router实现原理.html" class="sidebar-link">10.vue-router实现原理</a></li><li><a href="/md/frame/Vue/Vue双向数据绑定MVVM.html" class="sidebar-link">11.Vue双向数据绑定MVVM</a></li><li><a href="/md/frame/Vue/Vue使用中几个小技巧.html" class="active sidebar-link">12.Vue使用中几个小技巧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#路由懒加载写法" class="sidebar-link">路由懒加载写法:</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#组件style的scoped" class="sidebar-link">组件style的scoped:</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#vue-数组-对象更新-视图不更新" class="sidebar-link">Vue 数组/对象更新 视图不更新</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#vue-filters-过滤器的使用" class="sidebar-link">vue filters 过滤器的使用:</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#列表渲染相关" class="sidebar-link">列表渲染相关</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#深度watch与watch立即触发回调" class="sidebar-link">深度watch与watch立即触发回调</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#这些情况下不要使用箭头函数" class="sidebar-link">这些情况下不要使用箭头函数:</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#路由的项目启动页和404页面" class="sidebar-link">路由的项目启动页和404页面</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#vue调试神器-vue-devtools" class="sidebar-link">Vue调试神器:vue-devtools</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#解决方法：watch监听路由是否变化" class="sidebar-link">解决方法：watch监听路由是否变化</a></li></ul></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#settimeout-setinterval-this指向改变，无法用this访问vue实例" class="sidebar-link">setTimeout/setInterval this指向改变，无法用this访问VUe实例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#场景：" class="sidebar-link">场景：</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#解决方法：使用箭头函数或者" class="sidebar-link">解决方法：使用箭头函数或者</a></li></ul></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#setinterval路由跳转继续运行并没有销毁" class="sidebar-link">setInterval路由跳转继续运行并没有销毁</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#场景：-2" class="sidebar-link">场景：</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#解决办法：在组件生命周期beforedestroy停止setinterval" class="sidebar-link">解决办法：在组件生命周期beforeDestroy停止setInterval</a></li></ul></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#vue-滚动行为-浏览器回退记忆位置-用法" class="sidebar-link">vue 滚动行为(浏览器回退记忆位置)用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#路由设置" class="sidebar-link">路由设置</a></li></ul></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#vue路由拦截浏览器后退实现草稿保存类似需求" class="sidebar-link">vue路由拦截浏览器后退实现草稿保存类似需求</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#场景：-3" class="sidebar-link">场景：</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#用法：" class="sidebar-link">用法：</a></li></ul></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#v-once-只渲染元素和组件一次，优化更新渲染性能" class="sidebar-link">v-once 只渲染元素和组件一次，优化更新渲染性能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#文档介绍：" class="sidebar-link">文档介绍：</a></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#文档推荐：对低开销的静态组件使用-v-once" class="sidebar-link">文档推荐：对低开销的静态组件使用 v-once</a></li></ul></li><li class="sidebar-sub-header"><a href="/md/frame/Vue/Vue使用中几个小技巧.html#vue风格指南推荐：" class="sidebar-link">vue风格指南推荐：</a></li></ul></li><li><a href="/md/frame/Vue/Vue梳理.html" class="sidebar-link">13.Vue梳理</a></li><li><a href="/md/frame/Vue/Vue组件汇总.html" class="sidebar-link">14.Vue组件汇总</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Angular</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/frame/Angular/1.html" class="sidebar-link">Angular 学习资料</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>jQuery</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/frame/jQuery/jq-versions.html" class="sidebar-link">jQuery的版本及退出舞台</a></li><li><a href="/md/frame/jQuery/jq-drawing.html" class="sidebar-link">jQuery 谱图</a></li><li><a href="/md/frame/jQuery/jq-extend.html" class="sidebar-link">jQuery extend</a></li><li><a href="/md/frame/jQuery/jquery-skill.html" class="sidebar-link">jQuery小技巧</a></li><li><a href="/md/frame/jQuery/jQuery__插件开发基础.html" class="sidebar-link">jQuery__插件开发基础</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>类库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/frame/Class/类库汇总.html" class="sidebar-link">插件、工具类库汇总</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="你或许不知道vue的这些小技巧"><a href="#你或许不知道vue的这些小技巧" class="header-anchor">#</a> 你或许不知道Vue的这些小技巧</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>用Vue开发一个网页并不难，但是也经常会遇到一些问题，其实大部分的问题都在文档中有所提及，再不然我们通过谷歌也能成功搜索到问题的答案，为了帮助小伙伴们提前踩坑，在遇到问题的时候，心里大概有个谱知道该如何去解决问题。</p> <h3 id="路由懒加载写法"><a href="#路由懒加载写法" class="header-anchor">#</a> 路由懒加载写法:</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">// 我所采用的方法，个人感觉比较简洁一些，少了一步引入赋值。</span>
    <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        path<span class="token punctuation">:</span> <span class="token string">'/app'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./app'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// 引入组件</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// Vue路由文档的写法:</span>
    <span class="token keyword">const</span> <span class="token function-variable function">app</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./app.vue'</span><span class="token punctuation">)</span> <span class="token comment">// 引入组件</span>
    <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">'/app'</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> app <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>文档的写法在于问题在于：如果我们的路由比较多的话，是不是要在路由上方引入赋值十几行组件？</p> <p>第一种跟第二种方法相比就是把引入赋值的一步，直接写在<code>component</code>上面，本质上是一样的。两种方式都可以的，大家自由选择哈。</p> <h3 id="组件style的scoped"><a href="#组件style的scoped" class="header-anchor">#</a> 组件style的scoped:</h3> <p>问题：在组件中用js动态创建的dom，添加样式不生效。</p> <p><strong>场景</strong>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
         <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;test&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token keyword">let</span> a<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> newDom<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建dom</span>
        newDom<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;testAdd&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加样式</span>
        a<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newDom<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 插入dom</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
    <span class="token punctuation">.</span>test<span class="token punctuation">{</span>
       background<span class="token punctuation">:</span>blue<span class="token punctuation">;</span>
        height<span class="token punctuation">:</span><span class="token number">100</span>px<span class="token punctuation">;</span>
        width<span class="token punctuation">:</span><span class="token number">100</span>px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>testAdd<span class="token punctuation">{</span>
        background<span class="token punctuation">:</span>red<span class="token punctuation">;</span>
        height<span class="token punctuation">:</span><span class="token number">100</span>px<span class="token punctuation">;</span>
        width<span class="token punctuation">:</span><span class="token number">100</span>px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>结果</strong>：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// test生效   testAdd 不生效</span>
<span class="token operator">&lt;</span>div data<span class="token operator">-</span>v<span class="token operator">-</span><span class="token number">1</span>b971ada <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;test&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;testAdd&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>test<span class="token punctuation">[</span>data<span class="token operator">-</span>v<span class="token operator">-</span><span class="token number">1</span>b971ada<span class="token punctuation">]</span><span class="token punctuation">{</span> <span class="token comment">// 注意data-v-1b971ada</span>
    background<span class="token punctuation">:</span>blue<span class="token punctuation">;</span>
    height<span class="token punctuation">:</span><span class="token number">100</span>px<span class="token punctuation">;</span>
    width<span class="token punctuation">:</span><span class="token number">100</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>原因</strong>:</p> <p>当 <code>&lt;style&gt;</code> 标签有 <a href="https://vue-loader-v14.vuejs.org/zh-cn/features/scoped-css.html" target="_blank" rel="noopener noreferrer">scoped<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 属性时，它的 CSS 只作用于当前组件中的元素。</p> <p>它会<strong>为组件中所有的标签和class样式添加一个scoped标识</strong>，就像上面结果中的<code>data-v-1b971ada</code>。</p> <p>所以原因就很清楚了：因为动态添加的dom没有<code>scoped</code>添加的标识，<strong>没有跟testAdd的样式匹配起来</strong>，导致样式失效。</p> <p><strong>解决方式</strong></p> <ul><li>推荐：去掉该组件的scoped</li></ul> <p>每个组件的css并不会很多，当设计到动态添加dom，并为dom添加样式的时候，就可以去掉scoped，会比下面的方法方便很多。</p> <ul><li><p>可以动态添加style</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">// 上面的栗子可以这样添加样式</span>
  newDom<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height<span class="token operator">=</span><span class="token string">'100px'</span><span class="token punctuation">;</span>
  newDom<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width<span class="token operator">=</span><span class="token string">'100px'</span><span class="token punctuation">;</span>
  newDom<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <hr> <h3 id="vue-数组-对象更新-视图不更新"><a href="#vue-数组-对象更新-视图不更新" class="header-anchor">#</a> Vue 数组/对象更新 视图不更新</h3> <p>很多时候，我们习惯于这样操作数组和对象:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>     <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// data数据</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          arr<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          obj<span class="token punctuation">:</span><span class="token punctuation">{</span>
              a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
              b<span class="token punctuation">:</span> <span class="token number">2</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token comment">// 数据更新 数组视图不更新</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'OBKoro1'</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ['OBKoro1'];</span>
    <span class="token comment">// 数据更新 对象视图不更新</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token string">'OBKoro1'</span><span class="token punctuation">;</span>
    <span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {b:2,c:'OBKoro1'}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>由于js的限制，Vue 不能检测以上数组的变动，以及对象的添加/删除，很多人会因为像上面这样操作，出现视图没有更新的问题。</p> <p><strong>解决方式:</strong></p> <ol><li><p><strong>this.$set(你要改变的数组/对象，你要改变的位置/key，你要改成什么value)</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;OBKoro1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 改变数组</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;OBKoro1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 改变对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p><strong>数组原生方法触发视图更新</strong>:</p></li></ol> <p>Vue可以监测到数组变化的，<strong>数组原生方法</strong>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token function">splice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>、 <span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>意思是<strong>使用这些方法不用我们再进行额外的操作，视图自动进行更新</strong>。</p> <p>推荐使用<code>splice</code>方法会比较好自定义,因为slice可以在数组的任何位置进行删除/添加操作</p> <ol><li><strong>替换数组/对象</strong></li></ol> <p>比方说:你想遍历这个数组/对象，对每个元素进行处理，然后触发视图更新。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>   <span class="token comment">// 文档中的栗子: filter遍历数组，返回一个新数组，用新数组替换旧数组</span>
    example1<span class="token punctuation">.</span>items <span class="token operator">=</span> example1<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> item<span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/Foo/</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>举一反三</strong>：可以先把这个数组/对象保存在一个变量中，然后对这个变量进行遍历，等遍历结束后再用<strong>变量替换对象/数组</strong>。</p> <p><strong>并不会重新渲染整个列表</strong>:</p> <p>Vue 为了使得 DOM 元素得到最大范围的重用而实现了一些智能的、启发式的方法，所以用一个含有相同元素的数组去替换原来的数组是非常高效的操作。</p> <p>如果你还是很困惑，可以看看<a href="https://cn.vuejs.org/v2/guide/list.html#%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%E6%A3%80%E6%B5%8B" target="_blank" rel="noopener noreferrer">Vue文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中关于这部分的解释。</p> <hr> <h3 id="vue-filters-过滤器的使用"><a href="#vue-filters-过滤器的使用" class="header-anchor">#</a> vue filters 过滤器的使用:</h3> <p>过滤器，通常用于后台管理系统，或者一些约定类型，过滤。Vue过滤器用法是很简单，但是很多朋友可能都没有用过，这里稍微讲解一下。</p> <p><strong>在html模板中的两种用法</strong>：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在双花括号中 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token operator">|</span> filterTest <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在 <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">v-bind</span><span class="token template-punctuation string">`</span></span> 中 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token punctuation">:</span>id<span class="token operator">=</span><span class="token string">&quot;message | filterTest&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>在组件script中的用法</strong>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    
     <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
         message<span class="token punctuation">:</span><span class="token number">1</span>   
        <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
    filters<span class="token punctuation">:</span> <span class="token punctuation">{</span>  
        <span class="token function">filterTest</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// value在这里是message的值</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token operator">===</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">'最后输出这个值'</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>用法就是上面讲的这样，可以自己在组件中试一试就知道了，很简单很好用的。</p> <p>如果不想自己试，可以点这个<a href="https://codepen.io/OBKoro1/pen/rKxBMw" target="_blank" rel="noopener noreferrer">demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>里面修改代码就可以了，demo中包括<strong>过滤器串联</strong>、<strong>过滤器传参</strong>。</p> <p>推荐看Vue<a href="https://cn.vuejs.org/v2/guide/filters.html" target="_blank" rel="noopener noreferrer">过滤器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>文档，你会更了解它的。</p> <hr> <h3 id="列表渲染相关"><a href="#列表渲染相关" class="header-anchor">#</a> 列表渲染相关</h3> <p><strong>v-for循环绑定model:</strong></p> <p>input在v-for中可以像如下这么进行绑定，我敢打赌很多人不知道。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">// 数据    </span>
      <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span><span class="token punctuation">{</span>
           obj<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              ob<span class="token punctuation">:</span> <span class="token string">&quot;OB&quot;</span><span class="token punctuation">,</span>
              koro1<span class="token punctuation">:</span> <span class="token string">&quot;Koro1&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            model<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              ob<span class="token punctuation">:</span> <span class="token string">&quot;默认ob&quot;</span><span class="token punctuation">,</span>
              koro1<span class="token punctuation">:</span> <span class="token string">&quot;默认koro1&quot;</span>
            <span class="token punctuation">}</span>   
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// html模板</span>
    <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(value,key) in obj&quot;</span><span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;model[key]&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token comment">// input就跟数据绑定在一起了，那两个默认数据也会在input中显示</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>demo](https://codepen.io/OBKoro1/pen/gKPOgw),你可以点进去试试。</p> <p><strong>一段取值的v-for</strong></p> <p>如果我们有一段重复的html模板要渲染，又没有数据关联，我们可以:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;n in 5&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>这里会被渲染<span class="token number">5</span>次，渲染模板<span class="token punctuation">{</span><span class="token punctuation">{</span>n<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>v-if尽量不要与v-for在同一节点使用</strong>:</p> <p>v-for 的优先级比 v-if 更高,如果它们处于同一节点的话，那么每一个循环都会运行一遍v-if。</p> <p>如果你想根据循环中的<strong>每一项的数据来判断是否渲染，那么你这样做是对的</strong>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;todo in todos&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;todo.type===1&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">{</span> todo <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果你想要根据<strong>某些条件跳过循环，而又跟将要渲染的每一项数据没有关系的话，你可以将v-if放在v-for的父节点</strong>：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">// 根据elseData是否为true 来判断是否渲染，跟每个元素没有关系    </span>
     <span class="token operator">&lt;</span>ul v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;elseData&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;todo in todos&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token punctuation">{</span> todo <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token comment">// 数组是否有数据 跟每个元素没有关系</span>
    <span class="token operator">&lt;</span>ul v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;todos.length&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;todo in todos&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token punctuation">{</span> todo <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&gt;</span>No todos left<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>如上，正确使用v-for与v-if优先级的关系，可以为你节省大量的性能。</p> <hr> <h3 id="深度watch与watch立即触发回调"><a href="#深度watch与watch立即触发回调" class="header-anchor">#</a> 深度watch与watch立即触发回调</h3> <p>watch很多人都在用，但是这watch中的这两个选项<code>deep</code>、<code>immediate</code>，或许不是很多人都知道，我猜。</p> <p><strong>选项：deep</strong></p> <p>在选项参数中指定 <code>deep: true</code>，可以监听对象中属性的变化。</p> <p><strong>选项：immediate</strong></p> <p>在选项参数中指定 immediate: true, 将立即以表达式的当前值触发回调，也就是立即触发一次。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    watch<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        obj<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'属性发生变化触发这个回调'</span><span class="token punctuation">,</span>val<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          deep<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// 监听这个对象中的每一个属性变化</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        step<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 属性</span>
          <span class="token comment">//watch</span>
          <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;默认立即触发一次&quot;</span><span class="token punctuation">,</span> val<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          immediate<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// 默认立即触发一次</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>这两个选项可以同时使用，另外：是的，又有一个<a href="https://codepen.io/OBKoro1/pen/QxyWMa" target="_blank" rel="noopener noreferrer">demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>还有下面这一点需要注意。</p> <hr> <h3 id="这些情况下不要使用箭头函数"><a href="#这些情况下不要使用箭头函数" class="header-anchor">#</a> 这些情况下不要使用箭头函数:</h3> <ul><li>不应该使用箭头函数来定义一个生命周期方法</li> <li>不应该使用箭头函数来定义 method 函数</li> <li>不应该使用箭头函数来定义计算属性函数</li> <li>不应该对 data 属性使用箭头函数</li> <li>不应该使用箭头函数来定义 watcher 函数</li></ul> <p>示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">// 上面watch的栗子：</span>
    <span class="token function-variable function">handler</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 可以执行</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;默认触发一次&quot;</span><span class="token punctuation">,</span> val<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token comment">// method：</span>
     methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">plus</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 可以执行</span>
          <span class="token comment">// do something</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token comment">// 生命周期:</span>
     <span class="token function-variable function">created</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> <span class="token comment">// 可以执行</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'lala'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">)</span> 
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>是的，没错，这些都能执行。</p> <p><strong>but</strong>:</p> <p>箭头函数绑定了父级作用域的上下文，<strong>this 将不会按照期望指向 Vue 实例</strong>。</p> <p>也就是说，你<strong>不能使用this来访问你组件中的data数据以及method方法了</strong>。</p> <p>this将会指向undefined。</p> <hr> <h3 id="路由的项目启动页和404页面"><a href="#路由的项目启动页和404页面" class="header-anchor">#</a> 路由的项目启动页和404页面</h3> <p>实际上这也就是一个设置而已:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token comment">// 项目启动页</span>
          redirect<span class="token punctuation">:</span><span class="token string">'/login'</span>  <span class="token comment">// 重定向到下方声明的路由 </span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          path<span class="token punctuation">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token comment">// 404 页面 </span>
          <span class="token function-variable function">component</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./notFind'</span><span class="token punctuation">)</span> <span class="token comment">// 或者使用component也可以的</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>比如你的域名为:<code>www.baidu.com</code></p> <p>项目启动页指的是: 当你进入<code>www.baidu.com</code>，会自动跳转到login登录页。</p> <p>404页面指的是: 当进入一个没有 声明/没有匹配 的路由页面时就会跳转到404页面。</p> <p>比如进入<code>www.baidu.com/testRouter</code>,就会自动跳转到<code>notFind</code>页面。</p> <p>当你没有声明一个404页面，进入<code>www.baidu.com/testRouter</code>，显示的页面是一片空白。</p> <hr> <h3 id="vue调试神器-vue-devtools"><a href="#vue调试神器-vue-devtools" class="header-anchor">#</a> Vue调试神器:vue-devtools</h3> <p>每次调试的时候，写一堆<code>console</code>是否很烦？想要<strong>更快知道组件/Vuex内数据的变化</strong>？</p> <p>那么这款<strong>尤大开发</strong>的调试神器:vue-devtools，你真的要了解一下了。</p> <p>这波稳赚不赔，真的能提高开发效率。</p> <p><strong>安装方法</strong>：</p> <ul><li>谷歌商店+科学上网,搜索vue-devtools即可安装。</li> <li>不会科学上网？<a href="https://segmentfault.com/a/1190000009682735" target="_blank" rel="noopener noreferrer">手动安装<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p><strong>安装之后</strong>：</p> <p>在chrome开发者工具中会看一个vue的一栏，如下对我们网页应用内数据变化，组件层级等信息能够有更准确快速的了解。</p> <p><img src="https://user-gold-cdn.xitu.io/2018/6/3/163c50e5198f6b8c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p> <p>路由变化页面数据不刷新问题</p> <blockquote><p>场景：比如文章详情数据，依赖路由的<code>params</code>参数获取的(ajax写在created生命周期里面)，因为路由懒加载的关系，退出页面再进入另一个文章页面并不会运行created组件生命周期，导致文章数据还是上一个文章的数据。</p></blockquote> <h3 id="解决方法：watch监听路由是否变化"><a href="#解决方法：watch监听路由是否变化" class="header-anchor">#</a> 解决方法：watch监听路由是否变化</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code> watch<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token string">'$route'</span> <span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//监听路由是否变化</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>articleId<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//是否有文章id</span>
      <span class="token comment">//获取文章数据</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="settimeout-setinterval-this指向改变，无法用this访问vue实例"><a href="#settimeout-setinterval-this指向改变，无法用this访问vue实例" class="header-anchor">#</a> setTimeout/setInterval this指向改变，无法用this访问VUe实例</h2> <h3 id="场景："><a href="#场景：" class="header-anchor">#</a> 场景：</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//setInterval同理 </span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//此时this指向Window对象</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="解决方法：使用箭头函数或者"><a href="#解决方法：使用箭头函数或者" class="header-anchor">#</a> 解决方法：使用箭头函数或者</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//箭头函数访问this实例 因为箭头函数本身没有绑定this</span>
     <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//使用变量访问this实例</span>
    <span class="token keyword">let</span> self<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//使用self变量访问this实例</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="setinterval路由跳转继续运行并没有销毁"><a href="#setinterval路由跳转继续运行并没有销毁" class="header-anchor">#</a> setInterval路由跳转继续运行并没有销毁</h2> <h3 id="场景：-2"><a href="#场景：-2" class="header-anchor">#</a> 场景：</h3> <p>比如一些弹幕，走马灯文字，这类需要定时调用的，路由跳转之后，因为组件已经销毁了，但是setInterval还没有销毁，还在继续后台调用，控制台会不断报错，如果运算量大的话，无法及时清除，会导致严重的页面卡顿。</p> <h3 id="解决办法：在组件生命周期beforedestroy停止setinterval"><a href="#解决办法：在组件生命周期beforedestroy停止setinterval" class="header-anchor">#</a> 解决办法：在组件生命周期beforeDestroy停止setInterval</h3> <p>组件销毁前执行的钩子函数，跟其他生命周期钩子函数的用法相同。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment">//我通常是把setInterval()定时器赋值给this实例，然后就可以像下面这么暂停。</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>intervalid<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="vue-滚动行为-浏览器回退记忆位置-用法"><a href="#vue-滚动行为-浏览器回退记忆位置-用法" class="header-anchor">#</a> vue 滚动行为(浏览器回退记忆位置)用法</h2> <p>这个我当时做的时候以为很难，后来做好了才发现就是一个设置而已（前提是要开启路由的History 模式），下面做一个简单的分享。</p> <h3 id="路由设置"><a href="#路由设置" class="header-anchor">#</a> 路由设置</h3> <ol><li>要使用这一功能，首先需要开启vue-router的 <a href="https://router.vuejs.org/zh-cn/essentials/history-mode.html" target="_blank" rel="noopener noreferrer">history模式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <p>如果之前一直使用的是<code>hash</code>模式(默认模式)，项目已经开发了一段时间，然后转history模式很可能会遇到：<a href="https://juejin.im/post/5a3f629cf265da430d5839ed" target="_blank" rel="noopener noreferrer">这些问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ol><li><p>滚动行为具体设置如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   mode<span class="token punctuation">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>
 <span class="token function">scrollBehavior</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> savedPosition</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>savedPosition<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//如果savedPosition存在，滚动条会自动跳到记录的值的地方</span>
       <span class="token keyword">return</span> savedPosition
     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token comment">//savedPosition也是一个记录x轴和y轴位置的对象</span>
      <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>，
   routes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ol> <p><a href="https://router.vuejs.org/zh-cn/advanced/scroll-behavior.html" target="_blank" rel="noopener noreferrer">vue滚动行为文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，可以进到这里看看更详细的信息。</p> <h2 id="vue路由拦截浏览器后退实现草稿保存类似需求"><a href="#vue路由拦截浏览器后退实现草稿保存类似需求" class="header-anchor">#</a> vue路由拦截浏览器后退实现草稿保存类似需求</h2> <h3 id="场景：-3"><a href="#场景：-3" class="header-anchor">#</a> 场景：</h3> <p>为了防止用户突然离开，没有保存已输入的信息。</p> <h3 id="用法："><a href="#用法：" class="header-anchor">#</a> 用法：</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//在路由组件中：</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>用户已经输入信息<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//出现弹窗提醒保存草稿，或者自动后台为其保存</span>
    
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//用户离开</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>类似的还有<code>beforeEach</code>、<code>beforeRouteUpdate</code>，也分为全局钩子和组件钩子，见<a href="https://router.vuejs.org/zh-cn/advanced/navigation-guards.html" target="_blank" rel="noopener noreferrer">路由文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h2 id="v-once-只渲染元素和组件一次，优化更新渲染性能"><a href="#v-once-只渲染元素和组件一次，优化更新渲染性能" class="header-anchor">#</a> v-once 只渲染元素和组件一次，优化更新渲染性能</h2> <p>觉得<a href="https://cn.vuejs.org/v2/api/#v-cloak" target="_blank" rel="noopener noreferrer">v-once<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>这个api蛮6的，应该很多小伙伴都没有注意到这个api。</p> <h3 id="文档介绍："><a href="#文档介绍：" class="header-anchor">#</a> 文档介绍：</h3> <p><img src="https://user-gold-cdn.xitu.io/2018/1/17/160ffd6c2dcf70e1?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p> <p>这个api在我看来主要用于那些一次性渲染，并且不会再有操作更改这些渲染的值，这样就可以优化双向绑定的更新性能。</p> <h3 id="文档推荐：对低开销的静态组件使用-v-once"><a href="#文档推荐：对低开销的静态组件使用-v-once" class="header-anchor">#</a> <a href="https://cn.vuejs.org/v2/guide/components.html#%E5%AF%B9%E4%BD%8E%E5%BC%80%E9%94%80%E7%9A%84%E9%9D%99%E6%80%81%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8-v-once" target="_blank" rel="noopener noreferrer">文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>推荐：对低开销的静态组件使用 v-once</h3> <p>尽管在 Vue 中渲染 HTML 很快，不过当组件中包含大量静态内容时，可以考虑使用 v-once 将渲染结果缓存起来，就像这样：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'terms-of-service'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token string">'\
    &lt;div v-once&gt;\
      &lt;h1&gt;Terms of Service&lt;/h1&gt;\
      ...很多静态内容...\
    &lt;/div&gt;\
  '</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="vue风格指南推荐："><a href="#vue风格指南推荐：" class="header-anchor">#</a> vue风格指南推荐：</h2> <p>写到这里想到vue框架还有一个<a href="https://cn.vuejs.org/v2/style-guide/" target="_blank" rel="noopener noreferrer">风格指南<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>推荐，如下图所示，大家也可以学习一波。</p> <p><img src="https://user-gold-cdn.xitu.io/2018/1/17/160fff0ec0147156?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/md/frame/Vue/Vue双向数据绑定MVVM.html" class="prev">11.Vue双向数据绑定MVVM</a></span> <span class="next"><a href="/md/frame/Vue/Vue梳理.html">13.Vue梳理</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.4e0435ca.js" defer></script><script src="/assets/js/2.04219cb5.js" defer></script><script src="/assets/js/59.c9703f26.js" defer></script><script src="/assets/js/14.fa62e12d.js" defer></script>
  </body>
</html>
